@use "@aurodesignsystem/design-tokens/dist/auro-classic/SCSSVariables" as v;
@use "@aurodesignsystem/design-tokens/dist/alaska-classic/SCSSVariables--alaskaClassic" as vAsc;

@use './mixins' as m;

// Handle the active state of the label
@mixin active-label {
  top: var(--ds-size-100, #{v.$ds-size-100});
  font-size: var(--ds-basic-text-body-xs-font-size, #{vAsc.$ds-basic-text-body-xs-font-size});
  font-weight :var(--ds-basic-text-body-xs-font-weight, #{vAsc.$ds-basic-text-body-xs-font-weight});
  letter-spacing: var(--ds-basic-text-body-xs-letter-spacing, #{vAsc.$ds-basic-text-body-xs-letter-spacing});
  line-height: var(--ds-basic-text-body-xs-line-height, #{vAsc.$ds-basic-text-body-xs-line-height});
  transform: unset;
}

/* stylelint-disable
  no-duplicate-selectors,
  max-nesting-depth,
  no-descending-specificity,
  selector-max-combinators,
  selector-max-compound-selectors,
  selector-no-qualifying-type,
  selector-max-class
  */
.layoutDefault,
:host(:not([layout])) { 
  label {
    @include m.transition-animation;

    position: absolute;
    overflow: hidden;
    pointer-events: none;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  :host(:not([bordered])) {
    label {
      top: calc(100% - var(--ds-size-25, #{v.$ds-size-25}));
      transform: translateY(-100%);
    }

    label {
      &.withIcon {
        left: var(--ds-size-400, #{v.$ds-size-400});
      }
    }
  }
}

:host([class="layoutDefault"][bordered]),
:host(:not([layout])[bordered]) { 
  label {
    top: 50%;
    transform: translateY(-50%);
  }

  label {
    &.withIcon {
      left: var(--ds-size-500, #{v.$ds-size-500});
    }
  }

  label {
    &:not(label.withIcon) {
      left: var(--ds-size-100, #{v.$ds-size-100});
    }
  }
}

.layoutDefault,
:host(:not([layout])) { 
  .wrapper {
    &:focus-within {
      label {
        @include active-label;
      }
    }
  }

  label {
    &.withValue {
      @include active-label;
    }
  }
}

:host([class="layoutDefault"][activeLabel]),
:host(:not([layout])[activeLabel]) {
  .wrapper {
    label {
      @include active-label;
    }
  }
}
