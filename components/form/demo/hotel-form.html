<!--
  Copyright (c) Alaska Air. All right reserved. Licensed under the Apache-2.0 license
  See LICENSE in the project root for license information.

  HTML in this document is standardized and NOT to be edited.
  All demo code should be added/edited in ./demo/index.md

  With the exception of adding custom elements if needed for the demo.

  ----------------------- DO NOT EDIT -----------------------------

-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auro Web Component Generator | auro-form custom element</title>
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/npm/prismjs@1.24.1/themes/prism.css"
  />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@aurodesignsystem/design-tokens@latest/dist/tokens/CSSCustomProperties.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@aurodesignsystem/webcorestylesheets@latest/dist/demoWrapper.css" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@aurodesignsystem/webcorestylesheets@latest/dist/elementDemoStyles.css" />
  <script src="https://cdn.jsdelivr.net/npm/@aurodesignsystem/auro-button@8.2.0/dist/auro-button__bundled.js" type="module"></script>
</head>
<body class="auro-markdown">
<main>
  <style>
    #borealis-hotel-booking-form {
      box-sizing: border-box;
      display: inline-block;
      background-color: var(--ds-color-background-primary-200-default, #F7F7F7);
      padding: var(--ds-grid-gutter-lg, 1.5rem);
      width: 454px;
    }

    #borealis-hotel-booking-form-container {
      display: flex;
      width: 100%;
      flex-direction: column;
      box-sizing: border-box;
      gap: var(--ds-size-200, 1rem);
    }

    #borealis-hotel-booking-form[narrow] {
      width: 290px;
    }

    #borealis-hotel-booking-form[wide] {
      width: 100%;
    }

    #borealis-hotel-booking-form[wide] #borealis-hotel-booking-form-container {
      display: flex;
      flex-direction: row;
      align-items: start;
    }

    #borealis-hotel-booking-form[wide] .borealis-hotel-booking-form-item {
      width: 30%;
    }


    #borealis-hotel-booking-form[wide] auro-button {
      margin-top: var(--ds-size-75, 0.375rem);
    }

    auro-button {
      float: right;
    }

  </style>

  <h2>Hotel Booking Form Testing</h2>
  <auro-select id="mode-selector">
    <auro-menu>
      <auro-menuoption value="default">Default</auro-menuoption>
      <auro-menuoption value="narrow">Narrow</auro-menuoption>
      <auro-menuoption value="wide">Wide</auro-menuoption>
    </auro-menu>
  </auro-select>
  <auro-form id="borealis-hotel-booking-form">
    <div id="borealis-hotel-booking-form-container">
      <div class="borealis-hotel-booking-form-item">
        <auro-combobox id="dynamicMenuExample" name="cityAirport" noFilter required>
          <span slot="label">City, airport, or landmark</span>
          <!--
            The auro-combobox element requires an empty auro-menu element
            due to the requirements of auro-dropdown and auro-input
          -->
          <auro-menu id="initMenu"></auro-menu>
        </auro-combobox>
      </div>

      <div class="borealis-hotel-booking-form-item">
        <auro-datepicker name="dateRange" range required>
          <span slot="fromLabel">Check in</span>
          <span slot="toLabel">Check out</span>
          <span slot="mobileDateLabel">Roundtrip</span>
        </auro-datepicker>
      </div>

      <div class="borealis-hotel-booking-form-item">
        <auro-counter-group isDropdown required>
          <div slot="placeholder">Rooms, Guests</div>
          <auro-counter min="1">
            Rooms
            <span slot="description">
              Total rooms
            </span>
          </auro-counter>
          <auro-counter min="1">
            Adults Per Room
            <span slot="description">
              Ages 18 and older
            </span>
          </auro-counter>
          <auro-counter>
            Children Per Room
            <span slot="description">
              Ages 0-17
            </span>
          </auro-counter>
        </auro-counter-group>
      </div>

      <auro-button type="submit" fluid>
        Search hotels
      </auro-button>
    </div>
  </auro-form>
</main>

<!-- Form elements MUST be registered BEFORE form if custom names are used -->
<script type="module" data-demo-script="true" src="./registerDemoDeps.js"></script>
<script type="module" data-demo-script="true" src="./index.js"></script>
<!--<script type="module" data-demo-script="true" src="~@auro-formkit/auro-input/dist/index.min.js"></script>-->

<script type="module">
  import {dynamicMenuExample} from "./dynamicMenu.js";

  let initCount = 0;
  try {
    dynamicMenuExample();
  } catch(error) {
    if (initCount++ <= 20) {
      setTimeout(dynamicMenuExample, 100);
    }
  }

  const form = document.querySelector('auro-form');
  form.addEventListener('submit', (event) => {
    console.log(event)

    console.log(event.target.value)
  });

  const selector = document.querySelector('#mode-selector');
  selector.value = ['default'];
  selector.addEventListener("auroSelect-valueSet", (event) => {
    switch(event.target.value[0]) {
      case 'narrow':
        form.setAttribute('narrow', '');
        form.removeAttribute('wide');
        break;
      case 'wide':
        form.setAttribute('wide', '');
        form.removeAttribute('narrow');
        break;
      case 'default':
      default:
        form.removeAttribute('narrow');
        form.removeAttribute('wide');
        break;
    }
    console.log(event.target.value);
  });
  
</script>

<!-- If additional elements are needed for the demo, add them here. -->
<script src="https://cdn.jsdelivr.net/npm/@aurodesignsystem/auro-accordion@latest/dist/auro-accordion__bundled.js" type="module"></script>
</body>
</html>
